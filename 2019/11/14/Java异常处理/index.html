

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="liaogangwei的个人主页">
  <meta name="author" content="Kongwei_Liao">
  <meta name="keywords" content="black, foolish, positive">
  <title>Java异常处理 - Kongwei_Liao</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Java异常处理">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2019-11-14 10:40" pubdate>
        2019年11月14日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      48
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Java异常处理</h1>
            
            <div class="markdown-body">
              <h3 id="Java异常处理"><a href="#Java异常处理" class="headerlink" title="Java异常处理"></a>Java异常处理</h3><p>​         一般来说发生异常之后，会终止之前本应该执行的流程  </p>
<h4 id="1、什么是Java中的异常"><a href="#1、什么是Java中的异常" class="headerlink" title="1、什么是Java中的异常"></a>1、什么是Java中的异常</h4><p>① Java代码在 <strong>编译</strong> 或 <strong>运行时期</strong> 发生的错误就是异常。  </p>
<p>② 也可以看成是导致程序终止的一种错误指令流（一旦发生可能会终止程序）</p>
<p>③ <strong>Exception类：</strong>Java把异常信息封装成了一个类，用来表示Java程序中可能会产生的异常，<strong>创建异常类对象抛出异常相关的信息</strong>（如异常出现的<strong>位置</strong>、<strong>类型</strong>和<strong>原因</strong>等），并要求对产生的异常进行合理的异常处理。</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Exception.png" srcset="/img/loading.gif" alt="1"></p>
<p>④ <strong>Throwable</strong>是Java 语言中所有错误或异常的超类，即<strong>祖宗类</strong>。  </p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Throwable.png" srcset="/img/loading.gif" alt="1"></p>
<p>另外，在异常Exception类中，有一个子类要特殊说明一下，<strong>RuntimeException</strong>子类，RuntimeException及它的子类只能在<strong>Java程序运行过程中出现</strong>。</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Error.png" srcset="/img/loading.gif" alt="1"></p>
<p><strong>与异常Exception平级的有一个Error</strong>，它是Throwable的子类，它用来表示java程序中可能会产生的严重错误<strong>（不应该被捕获的严重问题）</strong>。解决办法只有一个，修改代码避免Error错误的产生。</p>
<h4 id="2、最近我们遇到过的异常"><a href="#2、最近我们遇到过的异常" class="headerlink" title="2、最近我们遇到过的异常"></a>2、最近我们遇到过的异常</h4><h5 id="①-数组越界-ArrayIndexOutOfBoundsException"><a href="#①-数组越界-ArrayIndexOutOfBoundsException" class="headerlink" title="① 数组越界: ArrayIndexOutOfBoundsException"></a>① 数组越界: <strong>ArrayIndexOutOfBoundsException</strong></h5><p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/AIOB.png" srcset="/img/loading.gif" alt="aiob"></p>
<h5 id="②-除数为0-ArithmeticException-by-zero"><a href="#②-除数为0-ArithmeticException-by-zero" class="headerlink" title="② 除数为0: **ArithmeticException: / by zero  **"></a>② 除数为0: **ArithmeticException: / by zero  **</h5><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-built_in">int</span> a = <span class="hljs-number">10</span><span class="hljs-operator"> / </span><span class="hljs-number">0</span>;<br><span class="hljs-comment">//Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero</span><br>	at cn.kongwei_liao.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ExceptionDemo</span>.</span></span>main(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ExceptionDemo</span>.</span></span>java:<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>
<p>一旦发生了异常，就终止了jvm的运行，除数为0，出现了异常，jvm终止了运行。下面输出”end”就没有运行了。</p>
<h5 id="③-空指针异常-NullPointerException"><a href="#③-空指针异常-NullPointerException" class="headerlink" title="③ 空指针异常: NullPointerException"></a>③ 空指针异常: <strong>NullPointerException</strong></h5><h5 id="源码分析："><a href="#源码分析：" class="headerlink" title="源码分析："></a>源码分析：</h5><p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/throwable1.png" srcset="/img/loading.gif" alt="1"></p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/Exception1.png" srcset="/img/loading.gif" alt="1"></p>
<p><strong>小结：</strong></p>
<p>1、一般来说一个异常类就表示一种异常情况，Java中定义了很多异常类表示很多的异常情况。</p>
<p>2、在实际开发中异常情况有很多，Java不可能把所有的异常情况都列出来，所以我们可以自定义异常类来处理我们自己关心的异常。</p>
<p>3、处理异常目的：</p>
<ol>
<li><p>给用户有良好的反馈</p>
</li>
<li><p>不能让异常影响程序下面正常的运行</p>
</li>
</ol>
<p>4、出现异常时，异常被一层一层向上抛出，最终抛给JVM，但是一般不要抛给JVM，而是应该在某一层被<strong>异常处理程序</strong>处理掉。</p>
<h4 id="3、异常的处理方式"><a href="#3、异常的处理方式" class="headerlink" title="3、异常的处理方式"></a>3、异常的处理方式</h4><p>程序出现了异常，我们需要处理，保证功能能顺利完成。怎么处理？<strong>有两种方式</strong></p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/liangzhong.png" srcset="/img/loading.gif" alt="1"></p>
<p>看下面一张截图：</p>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/exception.jpg" srcset="/img/loading.gif" alt="ex"></p>
<p>分析：</p>
<p>1、本希望第一句和第三句都正常执行，但是： 在第二句遇到了异常，程序就终止了</p>
<p>2、为什么程序就终止了呢？</p>
<p>第10行产生一个异常对象，我们没有做任何的处理，被交由JVM处理的。JVM的处理方式就是把异常信息打印到控制台，并且退出JVM。</p>
<p>3、如何使第二句出现异常后，不退出JVM？把出现异常的原因记录起来或者打印出来，方便开发者定位问题，然后继续运行第三句代码。</p>
<p>4、我们可以catch它，然后根据catch到的异常做对应的异常处理，这样便不必退出JVM。</p>
<p>例如，计算器，发现除数为0后，按照正常情况下，应该终止计算器，关闭它。但是没有，人家处理了，你还可以继续运算。因为计算器自己处理了这个异常。</p>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image001.png" srcset="/img/loading.gif" alt="img"></p>
<h5 id="方式一：try-catch-finally结构处理异常"><a href="#方式一：try-catch-finally结构处理异常" class="headerlink" title="方式一：try-catch-finally结构处理异常"></a>方式一：try-catch-finally结构处理异常</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs awk">try&#123;<br>	<span class="hljs-regexp">//</span> 写可能出现异常的代码，可以有很多句代码<br>	<br>	<span class="hljs-regexp">//</span>throw new Exception();<br>	<span class="hljs-regexp">//</span>产生异常，直接捕获处理，throw后不能再有语句，语句不可达，编译器拒绝编译<br>&#125;catch(异常类型 变量名)&#123;<br>	<span class="hljs-regexp">//</span> 处理异常，并不是把上面的代码改正确。<br>	<span class="hljs-regexp">//</span> 常见的一些方式：<br>	<span class="hljs-regexp">//</span> ①打印异常的信息到控制台；<br>	<span class="hljs-regexp">//</span>处理方式<span class="hljs-number">1</span> ：异常原因  一般处理后给前台页面返回，给用户提示问题原因 <br>	String message = e.getMessage();<br>	System.out.println(message);<br>	<br>	<span class="hljs-regexp">//</span>处理方式<span class="hljs-number">2</span> ：异常类型和异常原因<br>	String str = e.toString();<br>	System.out.println(str);<br>	<br>	<span class="hljs-regexp">//</span>处理方式<span class="hljs-number">3</span>：打印日志 推荐 给程序员看的<br>	e.printStackTrace(); <br>	<br>	<span class="hljs-regexp">//</span>② 可以把异常信息保存到一个文件中，可以持久的存储起来；<br>	<span class="hljs-regexp">//</span> 因为实际项目有可能有很多异常打印到控制台，不能随时关注，这时就需要将日志保存。<br>	<br>	<span class="hljs-regexp">//</span>③ 可以抓住之后，向外在抛出另外的一个异常（了解），就是谁调用谁处理。<br>&#125;finally&#123;<br>	<span class="hljs-regexp">//</span>不论有无异常一定会被执行的语句；<br>	<span class="hljs-regexp">//</span>这里一般放：关闭流或者释放资源的代码<br>	<br>	<span class="hljs-regexp">//</span>在return之前执行，但是return的还是执行finally块之前的内容；<br>	<span class="hljs-regexp">//</span>此处不应该放任何的业务代码，尤其是返回一个数据（很多面试题里可能会方法）<br>	<br>	<span class="hljs-regexp">//</span>不管上面是否有异常产生，这里的代码都会执行（除非前面有执行退出JVM的代码如System.<span class="hljs-keyword">exit</span>()）<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image002.jpg" srcset="/img/loading.gif" alt="img"></p>
<h5 id="获得异常信息的方式"><a href="#获得异常信息的方式" class="headerlink" title="获得异常信息的方式"></a>获得异常信息的方式</h5><p>在API中随意查看一个异常类，比如ArithmeticException或者在eclipse中查看源码，发现<strong>异常类中基本上全是构造方法，所有的方法都在超类Throwable中。</strong></p>
<p>也就是说，有关我们的代码出现了异常，这些所有的异常信息都被封装到Throwable中，我们去Throwable中找对应的方法，看源码(api)发现：</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/throwable1.png" srcset="/img/loading.gif" alt="1"></p>
<h6 id="①-在Throwable类中定义了一个字段：-保存异常描述信息"><a href="#①-在Throwable类中定义了一个字段：-保存异常描述信息" class="headerlink" title="① 在Throwable类中定义了一个字段： 保存异常描述信息"></a>① 在Throwable类中定义了一个字段： 保存异常描述信息</h6><p>通过<strong>ArithmeticException</strong>源码<strong>一直跟踪super方法</strong>，直到异常的顶层<strong>Throwable类</strong>发现一个<strong>detailMessage字段</strong>，这个字段来存储异常信息。</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/detailMessage.png" srcset="/img/loading.gif" alt="1"></p>
<h6 id="②-在Throwable父类中定义了多个方法用来获得对象中的异常描述信息"><a href="#②-在Throwable父类中定义了多个方法用来获得对象中的异常描述信息" class="headerlink" title="② 在Throwable父类中定义了多个方法用来获得对象中的异常描述信息"></a>② 在Throwable父类中定义了多个方法用来获得对象中的异常描述信息</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">String</span> getMessage()  返回此 <span class="hljs-built_in">throwable</span> 的详细消息字符串 <br><span class="hljs-keyword">String</span> toString() 返回此 <span class="hljs-built_in">throwable</span> 的简短描述 <br><span class="hljs-keyword">void</span> printStackTrace() 调用此方法会把完整异常信息打印到控制台<br></code></pre></td></tr></table></figure>
<p>举例：</p>
<figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs roboconf">try &#123;<br>	<span class="hljs-attribute">System.out.println(1 / 0);</span><br><span class="hljs-attribute">&#125; catch (ArithmeticException e) &#123;</span><br><span class="hljs-attribute">	System.out.println(e.getMessage());//返回此 throwable 的详细消息字符串</span>: by zero<br>	System<span class="hljs-variable">.out</span><span class="hljs-variable">.println</span>(e<span class="hljs-variable">.toString</span>());//返回此 <span class="hljs-attribute">throwable 的简短描述</span>:java<span class="hljs-variable">.lang</span><span class="hljs-variable">.ArithmeticException</span>: / by zero<br>	e<span class="hljs-variable">.printStackTrace</span>();//将此 <span class="hljs-attribute">throwable 及其追踪输出至标准错误流</span>:<br>	/**<br>	 * java<span class="hljs-variable">.lang</span><span class="hljs-variable">.ArithmeticException</span>: / by zero at cn<span class="hljs-variable">.itsource</span><span class="hljs-variable">.wrapper</span><span class="hljs-variable">.Test</span><span class="hljs-variable">.main</span>(Test<span class="hljs-variable">.java</span>:7)<br>	 */<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="我们在开发中一般怎么用异常信息呢？"><a href="#我们在开发中一般怎么用异常信息呢？" class="headerlink" title="我们在开发中一般怎么用异常信息呢？"></a>我们在开发中一般怎么用异常信息呢？</h5><p>错误信息越详细越好，帮助我们快速定位和解决问题。</p>
<p>当然也要考虑容量问题。假如打印过多的信息，会占用服务器资源和影响执行效率(开发遇坑，导致性能很低下。)</p>
<p>一般使用：e.printStackTrace();但是会把这个信息<strong>单独记录在其他位置</strong>，方便维护。<strong>具体看自己公司的架构而定。</strong></p>
<h5 id="多异常处理以及执行流程分析"><a href="#多异常处理以及执行流程分析" class="headerlink" title="多异常处理以及执行流程分析"></a>多异常处理以及执行流程分析</h5><h6 id="①：什么是多异常？"><a href="#①：什么是多异常？" class="headerlink" title="①：什么是多异常？"></a>①：什么是多异常？</h6><p>就是说我们写一个功能代码，里面可能出现<strong>多种类型的异常</strong>。就要多异常。我们怎么处理呢？</p>
<h6 id="②：多异常的处理"><a href="#②：多异常的处理" class="headerlink" title="②：多异常的处理"></a>②：多异常的处理</h6><p><strong>A、笼统：可以写一个大的（父类）异常来捕获异常，就是用Exception。</strong></p>
<p>但是这样不好，要被扣工资的，你自己写的代码都知不道可能会出现什么问题，以后维护、交接或者测试的时候就不能尽量的避免已知的问题。</p>
<p>上句言外之意就是：提前告知测试人员或者同事：注意哈！我这里可能出问题哦，我也不晓得除啥子问题，反正呢，这个地方你注意点就是了，除了问题不要来找我，我是提前给你说了的哈（推卸责任，不负责）；</p>
<p>所以在负责任的情况下应尽量告知他人此处可能出现的<strong>具体何种异常</strong>，不应笼统。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">//举例如下：定义个除法，计算两个参数的熵。<br><span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) &#123;<br>		<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(div(&quot;2&quot;, &quot;0&quot;));<br>		<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(div(&quot;a&quot;, &quot;0&quot;));<br>		<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(div(&quot;10&quot;, &quot;2&quot;));<br>	&#125;<br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">	 * 计算两个整数的商的方法 String ---》 int / Integer</span><br><span class="hljs-comment">	 */</span><br>	<span class="hljs-built_in">public</span> static <span class="hljs-type">int</span> div(String a, String b) &#123;<br>		<span class="hljs-type">Integer</span> ret = <span class="hljs-number">0</span>;<br>		try &#123;<br>			<span class="hljs-type">Integer</span> i1 = <span class="hljs-built_in">new</span> <span class="hljs-type">Integer</span>(a);<br>			<span class="hljs-type">Integer</span> i2 = <span class="hljs-built_in">new</span> <span class="hljs-type">Integer</span>(b);<br>			ret = i1 / i2;<br>		&#125; catch (<span class="hljs-keyword">Exception</span> e) &#123;<br>			e.printStackTrace();<br>		&#125;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image003.jpg" srcset="/img/loading.gif" alt="img"></p>
<p><strong>B、尽量细化异常，一层一层的catch。</strong></p>
<p>只有当你不能明确知道自己的代码会出现什么异常，万不得已情况下才使用一个最大的Exception来捕获异常。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//举例如下：定义个除法，计算两个参数的熵。</span><br><span class="hljs-comment">//main方法省略，具体见之前的例子</span><br><br>	<span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-keyword">int</span> div(<span class="hljs-keyword">String</span> a, <span class="hljs-keyword">String</span> b) &#123;<br>		<span class="hljs-keyword">Integer</span> ret = <span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">try</span> &#123;<br>			<span class="hljs-keyword">Integer</span> i1 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Integer</span>(a);<br>			<span class="hljs-keyword">Integer</span> i2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Integer</span>(b);<br>			ret = i1 / i2;<br>		&#125; <span class="hljs-keyword">catch</span> (NumberFormatException e) &#123;<br>			e.printStackTrace();<br>			System.out.println(<span class="hljs-string">&quot;数字解析错误&quot;</span>);<br>		&#125; <span class="hljs-keyword">catch</span> (ArithmeticException e) &#123;<br>			e.printStackTrace();<br>			System.out.println(<span class="hljs-string">&quot;亲，除数不能为0哦&quot;</span>);<br>		&#125; <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> e) &#123;<br>			e.printStackTrace();<br>			System.out.println(<span class="hljs-string">&quot;未知错误！&quot;</span>);<br>		&#125;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image004.jpg" srcset="/img/loading.gif" alt="img"></p>
<h6 id="多异常处理分析总结如下"><a href="#多异常处理分析总结如下" class="headerlink" title="多异常处理分析总结如下"></a>多异常处理分析总结如下</h6><p>1、多异常处理的结构，可以有多个catch;</p>
<p>2、多个catch中的异常类型，子类放在前面，父类在后面</p>
<p>3、一旦try中产生了一个异常对象，立即就会从第一个catch开始匹配，一旦被抓住就执行catch中的代码，然后整个try-catch块就结束</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">/*<br>catch细化规则：<br>	要求多个catch中的异常不能相同，并且若catch中的多个异常之间有子父类异常的关系，那么子类异常要求在上面的catch处理，平级之间没有顺序关系。<br>*/<br>try&#123;<br>	throw new Exception();<span class="hljs-regexp">//</span>产生异常，直接捕获处理<br>	<span class="hljs-regexp">//</span>throw后不能再有语句，语句不可达，编译器拒绝编译<br>&#125;catch(XxxException e)&#123;<span class="hljs-regexp">//</span>子<br>	<span class="hljs-regexp">//</span>处理方式	<br>&#125;catch(YyyException e)&#123;<span class="hljs-regexp">//</span>父<br>	<span class="hljs-regexp">//</span>处理方式	<br>&#125;catch(ZzzException e)&#123;<span class="hljs-regexp">//</span>祖<br>	<span class="hljs-regexp">//</span>处理方式	<br>&#125;<br></code></pre></td></tr></table></figure>
<p>4、如果所有的catch都抓不住，可能就相当于我们没有处理到，又可能由JVM处理</p>
<h5 id="finally结构"><a href="#finally结构" class="headerlink" title="finally结构"></a>finally结构</h5><p>finally这个里面的代码，表示无论如何，都要执行，除非**System.exit()**退出JVM  </p>
<p>实例：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">//main方法省略，具体见之前的例子<br>	<span class="hljs-built_in">public</span> static <span class="hljs-type">int</span> div(String a, String b) &#123;<br>		<span class="hljs-type">Integer</span> ret = <span class="hljs-number">0</span>;<br>		try &#123;<br>			<span class="hljs-type">Integer</span> i1 = <span class="hljs-built_in">new</span> <span class="hljs-type">Integer</span>(a);<br>			<span class="hljs-type">Integer</span> i2 = <span class="hljs-built_in">new</span> <span class="hljs-type">Integer</span>(b);<br>			ret = i1 / i2;<br>		&#125; catch (NumberFormatException e) &#123;<br>			e.printStackTrace();<br>			<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;数字解析错误&quot;);<br>		&#125; catch (ArithmeticException e) &#123;<br>			e.printStackTrace();<br>			<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;亲，除数不能为0哦&quot;);<br>		&#125; catch (<span class="hljs-keyword">Exception</span> e) &#123;<br>			e.printStackTrace();<br>			<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;未知错误！&quot;);<br>		&#125;finally&#123;<br>			<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;我是Finally:&quot;+&quot;a=&quot;+a+&quot;;b=&quot;+b);<br>		&#125;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image005.jpg" srcset="/img/loading.gif" alt="img"></p>
<figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nim"><span class="hljs-keyword">try</span><span class="hljs-meta">&#123;...&#125;</span>catch(异常类型 e)<span class="hljs-meta">&#123;...&#125;</span><span class="hljs-keyword">finally</span><span class="hljs-meta">&#123;...&#125;</span><br><br>或者（有时候为了释放某些资源（例如锁），但必须保证异常往上层抛出，可以采用）<br><span class="hljs-keyword">try</span><span class="hljs-meta">&#123;...&#125;</span><span class="hljs-keyword">finally</span><span class="hljs-meta">&#123;...//释放锁操作&#125;</span><br></code></pre></td></tr></table></figure>


<h5 id="方式二：Throws向上层抛出异常"><a href="#方式二：Throws向上层抛出异常" class="headerlink" title="方式二：Throws向上层抛出异常"></a>方式二：Throws向上层抛出异常</h5><p>当我们有些异常自己处理不了，或者不方便处理，或者其他原因，我们就把异常抛出去，<strong>抛给方法的调用者处理</strong>。</p>
<p>调用者调用一个会向外抛异常的函数时，需要对该函数进行异常处理（继续向上抛出或者try-catch处理）。</p>
<p>目前，大家能处理的异常就处理，尽量不要抛。  </p>
<p>关键字：throws</p>
<p>语法：在方法上，<strong>“{”前写关键字throws</strong> ，后面写异常类，**可以同时抛多种异常类(用,分隔)**。  </p>
<p>实例：</p>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image006.jpg" srcset="/img/loading.gif" alt="img"></p>
<p><img src="/Java%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%8F%8A%E5%85%B6%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-%E4%BA%8C/clip_image007.jpg" srcset="/img/loading.gif" alt="img"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//main方法省略，详见之前案例</span><br><br>	<span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-keyword">int</span> div(<span class="hljs-keyword">String</span> a, <span class="hljs-keyword">String</span> b) throws NumberFormatException, ArithmeticException&#123;<br>	<span class="hljs-comment">//方法内部不提供异常处理，而是将异常向外抛出</span><br>		<span class="hljs-keyword">Integer</span> ret = <span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">Integer</span> i1 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Integer</span>(a);<br>		<span class="hljs-keyword">Integer</span> i2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Integer</span>(b);<br>		ret = i1 / i2;<br>		<span class="hljs-keyword">return</span> ret;<br>	&#125;<br></code></pre></td></tr></table></figure>






<h4 id="4、异常的分类"><a href="#4、异常的分类" class="headerlink" title="4、异常的分类"></a>4、异常的分类</h4><h5 id="①-运行时异常：-RuntimeException以及它的所有的子类"><a href="#①-运行时异常：-RuntimeException以及它的所有的子类" class="headerlink" title="① 运行时异常： RuntimeException以及它的所有的子类"></a>① 运行时异常： RuntimeException以及它的所有的子类</h5><p>方法中抛出运行时期异常，方法定义中无throws声明，调用者也无异常处理运行时期异常（调用者可以用try进行运行时异常处理）一旦发生,需要程序人员修改源代码.</p>
<p>在代码编译的时候不会提示错误，比如我们常见的NullPointerException，ArrayIndexOutOfBoundsException等  </p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;<br>		<span class="hljs-keyword">String</span> <span class="hljs-built_in">str</span> = <span class="hljs-keyword">null</span>;<br>		System.out.<span class="hljs-built_in">println</span>(<span class="hljs-built_in">str</span>.length());<span class="hljs-comment">//编译的时候，不会报错，运行后就会报错。因为str没有创建对象</span><br>	&#125;<br></code></pre></td></tr></table></figure>
<h5 id="②-非运行时异常-：-Exception以及它的所有子类除去RuntimeException体系的其它异常"><a href="#②-非运行时异常-：-Exception以及它的所有子类除去RuntimeException体系的其它异常" class="headerlink" title="② 非运行时异常 ： Exception以及它的所有子类除去RuntimeException体系的其它异常"></a>② 非运行时异常 ： Exception以及它的所有子类除去RuntimeException体系的其它异常</h5><p>此类异常在编译时期必须处理  ；</p>
<p>在IDE编译的时候<strong>会有提示</strong>： 要么try处理，要么throws向外抛出</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>)</span> &#123;<br>		SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat();<br>		<span class="hljs-keyword">try</span> &#123;<br>			sdf.parse(<span class="hljs-string">&quot;2017-04-24&quot;</span>);<br>		&#125; <span class="hljs-keyword">catch</span> (ParseException e) &#123;<br>			<span class="hljs-comment">// TODO Auto-generated catch block</span><br>			e.printStackTrace();<br>		&#125;<br>	&#125;<br></code></pre></td></tr></table></figure>
<p>说明：不要太过意的记住哪些是运行时哪些时非运行时异常，在写的时候，如果是非运行时异常，会有错误提示(红色)对异常的处理。</p>
<h4 id="5、自定义异常"><a href="#5、自定义异常" class="headerlink" title="5、自定义异常"></a>5、自定义异常</h4><p>我们见到的上面提到的异常是Java列出的常见的，而实际开发中还有更多更多的异常情况，java中不可能有所有情况的异常；</p>
<p>有的时候不能满足我们的需要，此时我们可以继承Exception类，实现自定义异常。</p>
<h5 id="自定义异常的流程-amp-自定义异常的语法："><a href="#自定义异常的流程-amp-自定义异常的语法：" class="headerlink" title="自定义异常的流程&amp;自定义异常的语法："></a>自定义异常的流程&amp;自定义异常的语法：</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">//继承其它异常，编写自定义异常</span><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">异常类名</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Exception</span></span>&#123;<br>	<span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> long serialVersionUID = 自动生成;<span class="hljs-comment">//用于序列化</span><br>	写两个构造（自动生成）<br>		无参构造<br>		有参构造<br>&#125;<br></code></pre></td></tr></table></figure>
<p>1、自定义一个异常类</p>
<p>例如： <strong>Java中设计好的</strong>一个异常类 NumberFormatException</p>
<p>2、设计一段代码（方法），这里面就会产生上面的一个异常对象</p>
<p>例如：Java中在写Integer的构造方法的时候，其内部就会创建一个异常对象并向外抛出</p>
<p>3、有人调用上面的方法，然后对异常进行处理</p>
<p>例如： 我们自己在调用构造方法创建对象</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">try&#123;<br>	<span class="hljs-type">Integer</span> i = <span class="hljs-built_in">new</span> <span class="hljs-type">Integer</span>(&quot;abc&quot;);<br>&#125;catch(NumberFormatException e)&#123;<br>	<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(“出异常了”);<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="实例："><a href="#实例：" class="headerlink" title="实例："></a>实例：</h5><p>我们需要做上面的3件事情</p>
<p>1、自定义一个异常类MultipleException：假设当我们用户注册的时候，如果用户名已经存在了</p>
<p>语法：</p>
<p>① 自定义一个类    ② 继承 <strong>Exception</strong> 或者 <strong>RuntimeException</strong>    </p>
<p>③ 提供一个公共无参数的构造方法和一个String参数的构造方法（比如参考：NumberFormatException）</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/NumberFormatException.png" srcset="/img/loading.gif" alt="1"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">//参照NumberFormatException自定写一个自定义的多用户异常类</span><br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MultipleException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Exception</span> </span>&#123;<br>	<span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> long serialVersionUID = <span class="hljs-number">1</span>L;<br><br>	<span class="hljs-comment">//无参的构造方法</span><br>	public <span class="hljs-type">MultipleException</span>() &#123;<br>		<span class="hljs-keyword">super</span>();<br>	&#125;<br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">	 * 有参的构造方法</span><br><span class="hljs-comment">	 * @param s 信息提示</span><br><span class="hljs-comment">	 */</span><br>	public <span class="hljs-type">MultipleException</span>(<span class="hljs-type">String</span> s) &#123;<br>		<span class="hljs-keyword">super</span>(s);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>2、设计一个注册Register的方法，根据条件判断在适当的时候抛出（产生）一个上面1的异常对象，抛出去。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//用户注册</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Register</span> &#123;</span><br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span>[] users = &#123; <span class="hljs-string">&quot;小王&quot;</span>, <span class="hljs-string">&quot;小李&quot;</span>, <span class="hljs-string">&quot;小明&quot;</span> &#125;;<span class="hljs-comment">// 写一个数组，模拟已经注册的用户</span><br><br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">	 * 用户注册功能</span><br><span class="hljs-comment">	 * @param userName</span><br><span class="hljs-comment">	 *            新注册的用户名</span><br><span class="hljs-comment">	 * @throws MultipleException</span><br><span class="hljs-comment">	 *             用户名存在的异常</span><br><span class="hljs-comment">	 */</span><br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(<span class="hljs-keyword">String</span> userName)</span> throws MultipleException </span>&#123;<br>		<span class="hljs-comment">// 遍历已经存在的用户名，判断是否新注册的用户名已经存在</span><br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; users.length; i++) &#123;<br>			<span class="hljs-comment">// 条件判断，如果用户名不为空，且已经存在，则抛出一个MultipleException异常</span><br>			<span class="hljs-keyword">if</span> (userName != <span class="hljs-string">&quot;&quot;</span> &amp;&amp; userName.equals(users[i])) &#123;<br>				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MultipleException(<span class="hljs-string">&quot;亲，用户名：&quot;</span> + userName + <span class="hljs-string">&quot;已经注册，请重新输入!&quot;</span>);<br>				<span class="hljs-comment">// throw:在方法里向调用者抛出异常</span><br>			&#125;<br>		&#125;<br>		<span class="hljs-comment">//没有重复，则注册成功</span><br>		System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">&quot;恭喜你，注册成功!玩的开心！！&quot;</span>);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>3、我们去调用注册的方法来注册一个账号  </p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">String</span>[] args)</span> </span>&#123;<br>		<span class="hljs-keyword">try</span> &#123;<br>			Register.<span class="hljs-keyword">register</span>(<span class="hljs-string">&quot;小刚&quot;</span>);<br>		&#125; <span class="hljs-keyword">catch</span> (MultipleException e) &#123;<br>			<span class="hljs-comment">// TODO Auto-generated catch block</span><br>			e.printStackTrace();<br>		&#125;<br>		<span class="hljs-keyword">try</span> &#123;<br>			Register.<span class="hljs-keyword">register</span>(<span class="hljs-string">&quot;小明&quot;</span>);<br>		&#125; <span class="hljs-keyword">catch</span> (MultipleException e) &#123;<br>			<span class="hljs-comment">// TODO Auto-generated catch block</span><br>			e.printStackTrace();<br>		&#125;<br>	&#125;<br></code></pre></td></tr></table></figure>


<h4 id="6、throw和throws"><a href="#6、throw和throws" class="headerlink" title="6、throw和throws"></a>6、throw和throws</h4><p>用throw主动制造异常，throw后不能再有语句，语句不可达，编译器拒绝编译；</p>
<p>如果抛出（throw）的是<strong>编译时期（必须要处理的）异常</strong>，必须在方法声明处抛出（throws）；</p>
<p>声明throws的方法被调用者调用时必须异常处理（继续抛出或就地try-catch处理），无论运行异常编译异常  。</p>
<p><img src="/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/throws.png" srcset="/img/loading.gif" alt="1"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Java/">Java</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">Java异常处理</a>
                    
                      <a class="hover-with-bg" href="/tags/Exception/">Exception</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/11/14/Maven/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Maven</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/11/13/Java%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%86%E6%B1%87%E6%80%BB/">
                        <span class="hidden-mobile">Java面试题集汇总</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
